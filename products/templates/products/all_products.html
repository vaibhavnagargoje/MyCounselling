{% extends 'dashboard/core_base.html' %}
{% load static %}

{% block title %}Counselling Plans{% endblock %}

{% block content %}
<!-- Main Content Area -->
<div class="flex-1 ml-64 p-6">
    <!-- Search Bar and Filters -->
    <div class="flex items-center justify-between mb-6">
        <div class="flex-1 max-w-md">
            <div class="relative">
                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <input type="text" id="searchInput" placeholder="Search for counselling plans..." class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
            </div>
        </div>
    </div>

    <!-- Hero Banner -->
    <div class="bg-gradient-to-r from-dark via-slate-700 to-slate-600 rounded-xl p-8 mb-6 text-white relative overflow-hidden">
        <!-- Background Pattern -->
        <div class="absolute inset-0 opacity-10">
            <div class="absolute top-4 left-4 w-16 h-16 border-2 border-white rounded-full"></div>
            <div class="absolute top-8 right-8 w-12 h-12 border-2 border-white rounded-full"></div>
            <div class="absolute bottom-4 left-8 w-8 h-8 border-2 border-white rounded-full"></div>
            <div class="absolute bottom-8 right-4 w-20 h-20 border-2 border-white rounded-full"></div>
        </div>
        
        <div class="flex items-center justify-between relative z-10">
            <div class="flex items-center">
                <div class="w-20 h-20 bg-gradient-to-r from-warning to-danger rounded-full flex items-center justify-center mr-6 animate-float">
                    <i class="fas fa-graduation-cap text-white text-2xl"></i>
                </div>
                <div>
                    <h2 class="text-3xl font-bold mb-2">Complete Engineering Counselling 2025</h2>
                    <div class="bg-gradient-to-r from-warning to-danger px-4 py-2 rounded-lg inline-block">
                        <span class="text-lg font-semibold">Expert Guidance for Your Dream College</span>
                    </div>
                    <p class="text-sm mt-2 opacity-90">#SecureYourFuture2025</p>
                </div>
            </div>
            
            <div class="text-right">
                <div class="mb-4">
                    <span class="text-sm opacity-75">Starting At</span>
                    <div class="flex items-center justify-end space-x-2">
                        <span class="text-lg line-through opacity-75">₹15,999/-</span>
                        <span class="text-2xl font-bold text-warning">₹4,999/-</span>
                    </div>
                </div>
                <button class="bg-white text-gray-900 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition duration-300">
                    <i class="fas fa-arrow-right mr-2"></i>
                    Explore Plans
                </button>
            </div>
        </div>
        
        <!-- Carousel Dots -->
        <div class="flex justify-center mt-6 space-x-2">
            <div class="w-3 h-3 bg-white rounded-full"></div>
            <div class="w-3 h-3 bg-white opacity-50 rounded-full"></div>
            <div class="w-3 h-3 bg-white opacity-50 rounded-full"></div>
        </div>
    </div>

    <!-- Filter Tabs -->
    <div class="flex items-center space-x-4 mb-6">
        <button class="flex items-center text-gray-600 hover:text-primary transition duration-300">
            <i class="fas fa-filter mr-2"></i>
            Filter
        </button>
        
        <div class="flex space-x-2 flex-wrap">
            <button class="filter-tab active px-4 py-2 rounded-lg font-medium transition duration-300" data-filter="all">All</button>
            <button class="filter-tab px-4 py-2 rounded-lg font-medium text-gray-600 hover:bg-gray-100 transition duration-300" data-filter="cet">CET</button>
            <button class="filter-tab px-4 py-2 rounded-lg font-medium text-gray-600 hover:bg-gray-100 transition duration-300" data-filter="neet">NEET</button>
            
        </div>
    </div>

    <!-- Products Count -->
    <p class="text-gray-600 mb-6 font-medium"><span id="productCount">12</span> Counselling Plans Available</p>

    <!-- Products Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="productsGrid">
        <!-- Product Card 1 -->
        <div class="course-card card-hover rounded-xl shadow-lg overflow-hidden" data-category="engineering premium">
            <div class="p-4">
                <div class="flex items-start justify-between mb-3">
                    <h3 class="text-lg font-semibold text-gray-900 leading-tight">Complete Engineering Counselling Premium</h3>
                    <div class="flex items-center space-x-2">
                        <span class="bg-warning text-black text-xs px-2 py-1 rounded-full font-semibold">Popular</span>
                        <i class="fab fa-whatsapp text-success text-lg"></i>
                    </div>
                </div>
                
                <!-- Product Image -->
                <div class="relative mb-4">
                    <img src="#" alt="Engineering Premium" class="w-full h-48 object-cover rounded-lg" >
                    <div class="absolute bottom-2 left-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-sm">
                        All-Inclusive
                    </div>
                    <div class="absolute bottom-2 right-2 bg-warning text-white px-2 py-1 rounded text-sm font-semibold">
                        ₹ 9,999/-
                    </div>
                </div>
                
                <div class="mb-3">
                    <p class="text-sm text-gray-600 mb-2">
                        <i class="fas fa-check-circle text-success mr-1"></i>
                        Complete Counselling for All Engineering Exams
                    </p>
                    <p class="text-sm text-gray-600">
                        <i class="fas fa-calendar mr-1"></i>
                        Valid till 31 Dec 2025
                    </p>
                </div>
                
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-2">
                        <span class="text-2xl font-bold text-gray-900">₹ 9,999</span>
                        <span class="text-sm text-gray-500 line-through">₹24,999</span>
                    </div>
                    <div class="bg-green-100 text-success px-2 py-1 rounded-full text-sm font-semibold">
                        60% OFF
                    </div>
                </div>
                
                <p class="text-xs text-gray-500 mb-4">Includes: JEE Main, JEE Advanced, BITSAT, State CETs</p>
                
                <div class="flex space-x-2">
                    <a href="#" class="flex-1 border border-primary text-primary py-2 rounded-lg font-semibold hover:bg-primary hover:text-white transition duration-300 text-center">
                        View Details
                    </a>
                    <button class="flex-1 bg-primary text-white py-2 rounded-lg font-semibold hover:bg-secondary transition duration-300">
                        Buy Now
                    </button>
                </div>
            </div>
        </div>

        <!-- Product Card 2 -->
        <div class="course-card card-hover rounded-xl shadow-lg overflow-hidden" data-category="pharmacy premium">
            <div class="p-4">
                <div class="flex items-start justify-between mb-3">
                    <h3 class="text-lg font-semibold text-gray-900 leading-tight">Pharmacy Counselling Complete Package</h3>
                    <div class="flex items-center space-x-2">
                        <span class="bg-warning text-black text-xs px-2 py-1 rounded-full font-semibold">New</span>
                        <i class="fab fa-whatsapp text-success text-lg"></i>
                    </div>
                </div>
                
                <div class="relative mb-4">
                    <img src="#" class="w-full h-48 object-cover rounded-lg" >
                    <div class="absolute bottom-2 left-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-sm">
                        Full Support
                    </div>
                    <div class="absolute bottom-2 right-2 bg-warning text-white px-2 py-1 rounded text-sm font-semibold">
                        ₹ 7,999/-
                    </div>
                </div>
                
                <div class="mb-3">
                    <p class="text-sm text-gray-600 mb-2">
                        <i class="fas fa-check-circle text-success mr-1"></i>
                        MH-CET Pharmacy & Other State Exams
                    </p>
                    <p class="text-sm text-gray-600">
                        <i class="fas fa-calendar mr-1"></i>
                        Valid till 31 Dec 2025
                    </p>
                </div>
                
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-2">
                        <span class="text-2xl font-bold text-gray-900">₹ 7,999</span>
                        <span class="text-sm text-gray-500 line-through">₹18,999</span>
                    </div>
                    <div class="bg-green-100 text-success px-2 py-1 rounded-full text-sm font-semibold">
                        58% OFF
                    </div>
                </div>
                
                <p class="text-xs text-gray-500 mb-4">Includes: All rounds of counselling + Document verification</p>
                
                <div class="flex space-x-2">
                    <a href="#" class="flex-1 border border-primary text-primary py-2 rounded-lg font-semibold hover:bg-primary hover:text-white transition duration-300 text-center">
                        View Details
                    </a>
                    <button class="flex-1 bg-primary text-white py-2 rounded-lg font-semibold hover:bg-secondary transition duration-300">
                        Buy Now
                    </button>
                </div>
            </div>
        </div>

        <!-- Product Card 3 -->
        <div class="course-card card-hover rounded-xl shadow-lg overflow-hidden" data-category="engineering basic">
            <div class="course-card card-hover rounded-xl shadow-lg overflow-hidden">
            <div class="p-4">
                <div class="flex items-start justify-between mb-3">
                    <h3 class="text-lg font-semibold text-gray-900 leading-tight">JEE Main Counselling Basic</h3>
                    <div class="flex items-center space-x-2">
                        <i class="fab fa-whatsapp text-success text-lg"></i>
                    </div>
                </div>
                
                <div class="relative mb-4">
                    <img src="#" alt="JEE Basic" class="w-full h-48 object-cover rounded-lg" >
                    <div class="absolute bottom-2 left-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-sm">
                        Essential
                    </div>
                    <div class="absolute bottom-2 right-2 bg-warning text-white px-2 py-1 rounded text-sm font-semibold">
                        ₹ 4,999/-
                    </div>
                </div>
                
                <div class="mb-3">
                    <p class="text-sm text-gray-600 mb-2">
                        <i class="fas fa-check-circle text-success mr-1"></i>
                        JoSAA Counselling Support
                    </p>
                    <p class="text-sm text-gray-600">
                        <i class="fas fa-calendar mr-1"></i>
                        Valid till counselling ends
                    </p>
                </div>
                
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-2">
                        <span class="text-2xl font-bold text-gray-900">₹ 4,999</span>
                        <span class="text-sm text-gray-500 line-through">₹12,999</span>
                    </div>
                    <div class="bg-green-100 text-success px-2 py-1 rounded-full text-sm font-semibold">
                        62% OFF
                    </div>
                </div>
                
                <p class="text-xs text-gray-500 mb-4">Includes: Choice filling + Seat allocation guidance</p>
                
                <div class="flex space-x-2">
                    <a href="#" class="flex-1 border border-primary text-primary py-2 rounded-lg font-semibold hover:bg-primary hover:text-white transition duration-300 text-center">
                        View Details
                    </a>
                    <button class="flex-1 bg-primary text-white py-2 rounded-lg font-semibold hover:bg-secondary transition duration-300">
                        Buy Now
                    </button>
                </div>
            </div>
        </div>

        <!-- Add more product cards as needed following the same pattern -->
        
    </div>

    <!-- Load More Button -->
    <div class="text-center mt-8">
        <button class="bg-gradient-to-r from-primary to-indigo-700 hover:from-secondary hover:to-indigo-800 text-white px-8 py-3 rounded-lg transition duration-300 transform hover:scale-105 shadow-lg">
            <i class="fas fa-plus mr-2"></i>
            Load More Plans
        </button>
    </div>
</div>
{% endblock %}

{% block script %}
<script>
    // Filter Tabs Functionality
    const filterTabs = document.querySelectorAll('.filter-tab');
    const productCards = document.querySelectorAll('.course-card');
    const productCount = document.getElementById('productCount');

    filterTabs.forEach(tab => {
        tab.addEventListener('click', () => {
            filterTabs.forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            
            const filter = tab.getAttribute('data-filter');
            let visibleCount = 0;
            
            productCards.forEach(card => {
                if (filter === 'all' || card.getAttribute('data-category').includes(filter)) {
                    card.style.display = 'block';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            productCount.textContent = visibleCount;
        });
    });

    // Search Functionality
    const searchInput = document.getElementById('searchInput');
    searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        let visibleCount = 0;
        
        productCards.forEach(card => {
            const title = card.querySelector('h3').textContent.toLowerCase();
            if (title.includes(searchTerm)) {
                card.style.display = 'block';
                visibleCount++;
            } else {
                card.style.display = 'none';
            }
        });
        
        productCount.textContent = visibleCount;
    });

    // Animation on Scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    productCards.forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(30px)';
        card.style.transition = 'all 0.6s ease';
        observer.observe(card);
    });
</script>
{% endblock %}